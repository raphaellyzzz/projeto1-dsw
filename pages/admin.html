<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Área Administrativa</title>
    <link rel="stylesheet" href="../style.css" />
</head>
<body>
    <main class="principal-adm">
        <section id="secao-login" class="area-login" v-show="!logado">
            <h1>Login - Área Administrativa</h1>
            <form @submit.prevent="realizarLogin" class="formulario-login">
                <div class="grupo-formulario">
                    <label for="nomeUsuario">Usuário:</label>
                    <input type="text" id="nomeUsuario" class="entrada-login" v-model="nomeUsuario" required />
                </div>
                <div class="grupo-formulario">
                    <label for="senha">Senha:</label>
                    <input type="password" id="senha" class="entrada-login" v-model="senha" required />
                </div>
                <button type="submit" class="botao-login">Entrar</button>
                <p id="mensagem-login" class="mensagem-erro" v-if="erroLogin">{{ erroLogin }}</p>
            </form>
        </section>

        <section id="painel-admin" class="container-painel-admin" v-cloak v-show="logado">
            <h1>Painel Administrativo</h1>
            <button id="botao-sair" class="botao-sair" @click="realizarLogout">Sair</button>

            <nav class="navegacao-admin">
                <ul>
                    <li><a href="#" :class="{ active: secaoAtual === 'clientes' }" @click="trocarSecao('clientes')">Clientes</a></li>
                    <li><a href="#" :class="{ active: secaoAtual === 'encomendas' }" @click="trocarSecao('encomendas')">Encomendas</a></li>
                    <li><a href="#" :class="{ active: secaoAtual === 'rotas' }" @click="trocarSecao('rotas')">Rotas de Entrega</a></li>
                    <li><a href="#" :class="{ active: secaoAtual === 'entregas' }" @click="trocarSecao('entregas')">Entregas</a></li>
                    <li><a href="#" :class="{ active: secaoAtual === 'centros' }" @click="trocarSecao('centros')">Centros de Distribuição</a></li>
                </ul>
            </nav>

            <div class="area-conteudo-admin">
                <div id="secao-clientes" class="secao-admin" v-show="secaoAtual === 'clientes'" v-cloak>
                    <h2>Clientes</h2>
                    <h3>Cadastrar Cliente</h3>
                    <form @submit.prevent="adicionarCliente" class="formulario-admin">
                        <div class="grupo-formulario">
                        <label>Nome:</label>
                        <input v-model="novoClienteForm.nome" class="entrada-admin" required />
                        </div>
                        <div class="grupo-formulario">
                        <label>CPF/CNPJ:</label>
                        <input v-model="novoClienteForm.cpfCnpj" class="entrada-admin" required />
                        </div>
                        <div class="grupo-formulario">
                        <label>Email:</label>
                        <input v-model="novoClienteForm.email" class="entrada-admin" required />
                        </div>
                        <div class="grupo-formulario">
                        <label>Endereço:</label>
                        <input v-model="novoClienteForm.endereco" class="entrada-admin" required />
                        </div>
                        <button class="botao-admin">Salvar Cliente</button>
                    </form>

                    <h3>Listagem de Clientes</h3>
                    <div class="container-filtros">
                        <input v-model="filtroNomeCliente" placeholder="Filtrar por Nome" class="entrada-filtro-admin" />
                        <input v-model="filtroCpfCnpjCliente" placeholder="Filtrar por CPF/CNPJ" class="entrada-filtro-admin" />
                    </div>

                    <div class="lista-admin">
                        <div v-for="cliente in clientesFiltradosC" :key="cliente.cpfCnpj" class="item-lista">
                            <strong>Nome:</strong> {{ cliente.nome }}<br>
                            <strong>CPF/CNPJ:</strong> {{ cliente.cpfCnpj }}<br>
                            <strong>Email:</strong> {{ cliente.email }}<br>
                            <strong>Endereço:</strong> {{ cliente.endereco }}<br><hr>
                        </div>
                    </div>
                </div>

                <div id="secao-encomendas" class="secao-admin" v-show="secaoAtual === 'encomendas'" v-cloak>
                    <h2>Encomendas</h2>
                    <h3>Cadastrar Encomenda</h3>
                    <form @submit.prevent="adicionarEncomenda" class="formulario-admin">
                        <div class="grupo-formulario">
                            <label>Código de Rastreamento:</label>
                            <input v-model="novaEncomendaForm.codigo" class="entrada-admin" required />
                        </div>
                        <div class="grupo-formulario">
                            <label>Conteúdo:</label>
                            <input v-model="novaEncomendaForm.conteudo" class="entrada-admin" required />
                        </div>
                        <div class="grupo-formulario">
                            <label>Status:</label>
                            <select v-model="novaEncomendaForm.status" class="selecao-admin" required>
                                <option value="Pendente">Pendente</option>
                                <option value="Em Trânsito">Em Trânsito</option>
                                <option value="Entregue">Entregue</option>
                                <option value="Extraviada">Extraviada</option>
                            </select>
                        </div>
                        <div class="grupo-formulario">
                            <label>Data de Postagem:</label>
                            <input type="date" v-model="novaEncomendaForm.dataPostagem" class="entrada-admin" required />
                        </div>
                        <div class="grupo-formulario">
                            <label>Previsão de Entrega:</label>
                            <input type="date" v-model="novaEncomendaForm.previsaoEntrega" class="entrada-admin" required />
                        </div>
                        <div class="grupo-formulario">
                            <label>Remetente (CPF/CNPJ):</label>
                            <input v-model="novaEncomendaForm.remetenteCpfCnpj" class="entrada-admin" required />
                        </div>
                        <div class="grupo-formulario">
                            <label>Destinatário (CPF/CNPJ):</label>
                            <input v-model="novaEncomendaForm.destinatarioCpfCnpj" class="entrada-admin" required />
                        </div>
                        <button class="botao-admin">Salvar Encomenda</button>
                    </form>

                    <h3>Listagem de Encomendas</h3>
                    <div class="container-filtros">
                        <input v-model="filtroCodigoEncomenda" placeholder="Filtrar por Código" class="entrada-filtro-admin" />
                        <input v-model="filtroStatusEncomenda" placeholder="Filtrar por Status" class="entrada-filtro-admin" />
                    </div>

                    <div class="lista-admin">
                        <div v-for="encomenda in encomendasFiltradasC" :key="encomenda.codigo" class="item-lista">
                            <strong>Código:</strong> {{ encomenda.codigo }}<br>
                            <strong>Conteúdo:</strong> {{ encomenda.conteudo }}<br>
                            <strong>Status:</strong> {{ encomenda.status }}<br>
                            <strong>Data de Postagem:</strong> {{ encomenda.dataPostagem }}<br>
                            <strong>Previsão de Entrega:</strong> {{ encomenda.previsaoEntrega }}<br>
                            <strong>Remetente:</strong> {{ encomenda.remetenteCpfCnpj }}<br>
                            <strong>Destinatário:</strong> {{ encomenda.destinatarioCpfCnpj }}<br>
                        </div>
                    </div>
                </div>
            </div>
            </section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.prod.js"></script>
    <script src="../scripts/app_admin.js"></script>
</body>
</html>